<!DOCTYPE html>

<html lang="ja">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Êó•‰ªò„Ç´„Ç¶„É≥„Çø„Éº</title>

    <style>

        body {

            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;

            max-width: 600px;

            margin: 0 auto;

            padding: 20px;

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

            min-height: 100vh;

        }



        .container {

            background: white;

            border-radius: 15px;

            padding: 30px;

            box-shadow: 0 10px 30px rgba(0,0,0,0.2);

        }



        h1 {

            text-align: center;

            color: #333;

            margin-bottom: 30px;

            font-size: 2.2em;

        }



        .form-group {

            margin-bottom: 20px;

        }



        label {

            display: block;

            margin-bottom: 8px;

            color: #555;

            font-weight: bold;

        }



        input[type="text"], input[type="date"], select {

            width: 100%;

            padding: 12px;

            border: 2px solid #ddd;

            border-radius: 8px;

            font-size: 16px;

            box-sizing: border-box;

            transition: border-color 0.3s;

        }



        input[type="text"]:focus, input[type="date"]:focus, select:focus {

            outline: none;

            border-color: #667eea;

        }



        button {

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

            color: white;

            border: none;

            padding: 12px 24px;

            border-radius: 8px;

            cursor: pointer;

            font-size: 16px;

            font-weight: bold;

            transition: transform 0.2s;

        }



        button:hover {

            transform: translateY(-2px);

        }



        .counter-list {

            margin-top: 30px;

        }



        .counter-item {

            background: #f8f9fa;

            border: 2px solid #e9ecef;

            border-radius: 10px;

            padding: 20px;

            margin-bottom: 15px;

            position: relative;

        }



        .counter-name {

            font-size: 1.3em;

            font-weight: bold;

            color: #333;

            margin-bottom: 10px;

        }



        .counter-value {

            font-size: 2em;

            font-weight: bold;

            text-align: center;

            padding: 15px;

            border-radius: 8px;

            margin: 10px 0;

        }



        .countup {

            background: linear-gradient(135deg, #56ab2f 0%, #a8e6cf 100%);

            color: white;

        }



        .countdown {

            background: linear-gradient(135deg, #ff6b6b 0%, #feca57 100%);

            color: white;

        }



        .completed {

            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);

            color: white;

        }



        .counter-info {

            text-align: center;

            color: #666;

            font-size: 0.9em;

            margin-top: 8px;

        }



        .delete-btn {

            position: absolute;

            top: 10px;

            right: 10px;

            background: #ff6b6b;

            color: white;

            border: none;

            border-radius: 50%;

            width: 30px;

            height: 30px;

            cursor: pointer;

            font-size: 16px;

        }



        .no-counters {

            text-align: center;

            color: #888;

            font-style: italic;

            margin-top: 30px;

        }



        .add-counter-form {

            border: 2px dashed #ddd;

            border-radius: 10px;

            padding: 20px;

            margin-bottom: 20px;

        }

    </style>

</head>

<body>

    <div class="container">

        <h1>üìÖ Êó•‰ªò„Ç´„Ç¶„É≥„Çø„Éº</h1>

        

        <div class="add-counter-form">

            <div class="form-group">

                <label for="counterName">„Ç´„Ç¶„É≥„Çø„ÉºÂêç:</label>

                <input type="text" id="counterName" placeholder="‰æã: Á¶ÅÁÖôÁîüÊ¥ª„ÄÅË©¶È®ì„Åæ„Åß„ÄÅÁ≠ã„Éà„É¨ÈñãÂßã„Åã„Çâ">

            </div>

            

            <div class="form-group">

                <label for="counterDate">Êó•‰ªò:</label>

                <input type="date" id="counterDate">

            </div>

            

            <div class="form-group">

                <label for="counterType">Á®ÆÈ°û:</label>

                <select id="counterType">

                    <option value="countup">„Ç´„Ç¶„É≥„Éà„Ç¢„ÉÉ„ÉóÔºà‚óã‚óãÊó•ÁµåÈÅéÔºâ</option>

                    <option value="countdown">„Ç´„Ç¶„É≥„Éà„ÉÄ„Ç¶„É≥Ôºà„ÅÇ„Å®‚óã‚óãÊó•Ôºâ</option>

                </select>

            </div>

            

            <button onclick="addCounter()">‚ûï „Ç´„Ç¶„É≥„Çø„ÉºËøΩÂä†</button>

        </div>

        

        <div class="counter-list" id="counterList">

            <div class="no-counters">„Åæ„Å†„Ç´„Ç¶„É≥„Çø„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</div>

        </div>

    </div>



    <script>

        // „Éö„Éº„Ç∏Ë™≠„ÅøËæº„ÅøÊôÇ„Å´„Ç´„Ç¶„É≥„Çø„Éº„ÇíË°®Á§∫

        window.onload = function() {

            displayCounters();

            // ‰ªäÊó•„ÅÆÊó•‰ªò„Çí„Éá„Éï„Ç©„É´„Éà„Å´Ë®≠ÂÆö

            document.getElementById('counterDate').value = new Date().toISOString().split('T')[0];

        };



        // „Ç´„Ç¶„É≥„Çø„ÉºËøΩÂä†

        function addCounter() {

            const name = document.getElementById('counterName').value.trim();

            const date = document.getElementById('counterDate').value;

            const type = document.getElementById('counterType').value;

            

            if (!name || !date) {

                alert('„Ç´„Ç¶„É≥„Çø„ÉºÂêç„Å®Êó•‰ªò„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ');

                return;

            }

            

            const counter = {

                id: Date.now(), // „É¶„Éã„Éº„ÇØID

                name: name,

                date: date,

                type: type,

                created: new Date().toISOString()

            };

            

            // Êó¢Â≠ò„ÅÆ„Ç´„Ç¶„É≥„Çø„Éº„ÇíÂèñÂæó

            const counters = getCounters();

            counters.push(counter);

            

            // localStorage„Å´‰øùÂ≠ò

            localStorage.setItem('dateCounters', JSON.stringify(counters));

            

            // „Éï„Ç©„Éº„É†„Çí„É™„Çª„ÉÉ„Éà

            document.getElementById('counterName').value = '';

            document.getElementById('counterDate').value = new Date().toISOString().split('T')[0];

            

            // Ë°®Á§∫„ÇíÊõ¥Êñ∞

            displayCounters();

        }



        // „Ç´„Ç¶„É≥„Çø„ÉºÂâäÈô§

        function deleteCounter(id) {

            if (confirm('„Åì„ÅÆ„Ç´„Ç¶„É≥„Çø„Éº„ÇíÂâäÈô§„Åó„Åæ„Åô„ÅãÔºü')) {

                const counters = getCounters();

                const filtered = counters.filter(counter => counter.id !== id);

                localStorage.setItem('dateCounters', JSON.stringify(filtered));

                displayCounters();

            }

        }



        // localStorage„Åã„Çâ„Ç´„Ç¶„É≥„Çø„Éº„ÇíÂèñÂæó

        function getCounters() {

            const saved = localStorage.getItem('dateCounters');

            return saved ? JSON.parse(saved) : [];

        }



        // Êó•Êï∞Ë®àÁÆó

        function calculateDays(targetDate, type) {

            const today = new Date();

            const target = new Date(targetDate);

            

            // ÊôÇÈñì„Çí0„Å´„Åó„Å¶Êó•‰ªò„ÅÆ„Åø„ÅßÊØîËºÉ

            today.setHours(0, 0, 0, 0);

            target.setHours(0, 0, 0, 0);

            

            const diffTime = today - target;

            const diffDays = Math.floor(diffTime / (1000 * 60 * 60 * 24));

            

            if (type === 'countup') {

                return diffDays;

            } else {

                return -diffDays;

            }

        }



        // „Ç´„Ç¶„É≥„Çø„ÉºË°®Á§∫

        function displayCounters() {

            const counters = getCounters();

            const listElement = document.getElementById('counterList');

            

            if (counters.length === 0) {

                listElement.innerHTML = '<div class="no-counters">„Åæ„Å†„Ç´„Ç¶„É≥„Çø„Éº„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</div>';

                return;

            }

            

            let html = '';

            

            counters.forEach(counter => {

                const days = calculateDays(counter.date, counter.type);

                let displayText, className, statusText;

                

                if (counter.type === 'countup') {

                    displayText = `${days}Êó•ÁµåÈÅé`;

                    className = 'countup';

                    statusText = `ÈñãÂßãÊó•: ${counter.date}`;

                } else {

                    if (days > 0) {

                        displayText = `„ÅÇ„Å®${days}Êó•`;

                        className = 'countdown';

                    } else if (days === 0) {

                        displayText = '‰ªäÊó•ÔºÅ';

                        className = 'completed';

                    } else {

                        displayText = `${Math.abs(days)}Êó•ÁµåÈÅé`;

                        className = 'completed';

                    }

                    statusText = `ÁõÆÊ®ôÊó•: ${counter.date}`;

                }

                

                html += `

                    <div class="counter-item">

                        <button class="delete-btn" onclick="deleteCounter(${counter.id})">√ó</button>

                        <div class="counter-name">${counter.name}</div>

                        <div class="counter-value ${className}">${displayText}</div>

                        <div class="counter-info">${statusText}</div>

                    </div>

                `;

            });

            

            listElement.innerHTML = html;

        }



        // 1ÂàÜ„Åî„Å®„Å´Ë°®Á§∫„ÇíÊõ¥Êñ∞ÔºàÊó•‰ªò„ÅåÂ§â„Çè„Å£„ÅüÊôÇ„ÅÆ„Åü„ÇÅÔºâ

        setInterval(displayCounters, 60000);

    </script>

</body>

</html>
